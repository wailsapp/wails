---
title: Android
description: Building Wails apps for Android
sidebar:
  order: 1
---

import { Aside, Steps, Tabs, TabItem } from "@astrojs/starlight/components";

## Prerequisites

- **Go** 1.21+ with CGO
- **Android SDK** (via Android Studio or command-line tools)
- **Android NDK** r26d+
- **Java JDK** 11+

### Environment Setup

Add to your shell profile:

```bash
# macOS
export ANDROID_HOME="$HOME/Library/Android/sdk"

# Linux
export ANDROID_HOME="$HOME/Android/Sdk"

export PATH="$PATH:$ANDROID_HOME/platform-tools:$ANDROID_HOME/emulator"
```

## Building

```bash
# Build for device (arm64)
task android:build

# Build for emulator on Intel/AMD
task android:build ARCH=x86_64

# Package APK
task android:package

# Build and run
task android:run
```

<Aside type="tip">
Apple Silicon Macs run arm64 emulators. Use the default `ARCH=arm64`.
</Aside>

### Architectures

| Architecture | GOARCH | Use Case |
|--------------|--------|----------|
| arm64-v8a | arm64 | Modern devices, Apple Silicon emulators |
| x86_64 | amd64 | Intel/AMD emulators |

## Configuration

```go
app := application.New(application.Options{
    Name: "My App",
    Android: application.AndroidOptions{
        DisableOverscroll: true,
        EnableZoom:        false,
        UserAgent:         "MyApp/1.0",
        BackgroundColour:  application.NewRGB(255, 255, 255),
    },
})
```

## Android-Specific Features

These features are only available on Android and can be accessed via the `application` package.

### Haptic Feedback

Trigger device vibration for tactile feedback:

<Tabs>
<TabItem label="Go">
```go
// Vibrate for 50 milliseconds
application.AndroidVibrate(50)

// Longer vibration for important notifications
application.AndroidVibrate(200)
```
</TabItem>
<TabItem label="Frontend">
```javascript
// Call via bound service
await myService.TriggerHaptic(50);
```
</TabItem>
</Tabs>

<Aside type="note">
Requires `android.permission.VIBRATE` in AndroidManifest.xml (included by default).
</Aside>

### Toast Notifications

Show native Android toast messages:

```go
// Show a short toast message
application.AndroidShowToast("Operation completed!")

// Toasts appear at the bottom of the screen
application.AndroidShowToast("File saved successfully")
```

Toasts are non-blocking and auto-dismiss after a short duration.

### Device Information

Get detailed information about the Android device:

```go
// Returns JSON string with device details
infoJSON := application.AndroidGetDeviceInfo()

// Parse the JSON to access fields:
// - platform: "android"
// - manufacturer: e.g., "Google", "Samsung"
// - model: e.g., "Pixel 7", "SM-S918B"
// - brand: e.g., "google", "samsung"
// - sdkVersion: e.g., 34 (Android 14)
// - release: e.g., "14"
```

### Open External URLs

Open URLs in the default browser:

```go
// Open in default browser
err := application.AndroidOpenURL("https://wails.io")
if err != nil {
    log.Println("Failed to open URL:", err)
}

// Also works for other URL schemes
application.AndroidOpenURL("mailto:hello@example.com")
application.AndroidOpenURL("tel:+1234567890")
```

### Screen Information

Get display metrics for the device screen:

```go
// Returns JSON with screen details
screenJSON := application.AndroidGetScreenInfo()

// Available fields:
// - widthPixels: Screen width in pixels
// - heightPixels: Screen height in pixels
// - density: Display density scale factor
// - densityDpi: DPI (160, 240, 320, etc.)
// - scaledDensity: Font scaling factor
// - xdpi, ydpi: Exact physical DPI
```

### Clipboard

Read and write to the system clipboard:

```go
// Copy text to clipboard
application.AndroidSetClipboardText("Hello from Wails!")

// Read text from clipboard
text := application.AndroidGetClipboardText()
```

### Message Dialogs

Show native Android dialogs:

```go
import "encoding/json"

// Info dialog with single button
buttons, _ := json.Marshal([]string{"OK"})
result := application.AndroidShowMessageDialog("info", "Welcome", "Thanks for using our app!", string(buttons))

// Question dialog with Yes/No
buttons, _ = json.Marshal([]string{"Yes", "No"})
result = application.AndroidShowMessageDialog("question", "Confirm", "Are you sure?", string(buttons))
if result == "Yes" {
    // User confirmed
}

// Warning dialog with multiple options
buttons, _ = json.Marshal([]string{"Save", "Discard", "Cancel"})
result = application.AndroidShowMessageDialog("warning", "Unsaved Changes", "You have unsaved changes.", string(buttons))
```

Dialog types: `"info"`, `"warning"`, `"error"`, `"question"`

### WebView Control

Programmatically control the WebView content:

```go
// Load custom HTML content
application.AndroidSetHTML("<html><body><h1>Hello!</h1></body></html>")

// Navigate to a URL
application.AndroidSetURL("https://wails.io")

// Set background color (via window options)
window.SetBackgroundColour(application.NewRGBA(255, 255, 255, 255))
```

## Debugging

```bash
# View logs
task android:logs

# Chrome DevTools
# 1. Connect device or start emulator
# 2. Open chrome://inspect/#devices
# 3. Click "inspect" on your app
```

## Troubleshooting

**INSTALL_FAILED_NO_MATCHING_ABIS**
- Architecture mismatch. Use `ARCH=arm64` for Apple Silicon, `ARCH=x86_64` for Intel/AMD emulators.

**NDK not found**
```bash
export ANDROID_NDK_HOME=$ANDROID_HOME/ndk/26.1.10909125
```

**Blank WebView**
1. Check logcat: `task android:logs`
2. Debug with Chrome DevTools
3. Verify `main_android.go` exists in build assets
