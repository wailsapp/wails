---
title: Application API
description: Complete reference for the Application API
sidebar:
  order: 1
---

import { Card, CardGrid } from "@astrojs/starlight/components";

## Overview

The `Application` is the core of your Wails app. It manages windows, services, events, and provides access to all platform features.

## Creating an Application

```go
import "github.com/wailsapp/wails/v3/pkg/application"

app := application.New(application.Options{
    Name:        "My App",
    Description: "My awesome application",
    Services: []application.Service{
        application.NewService(&MyService{}),
    },
})
```

## Core Methods

### Run()

Starts the application event loop.

```go
func (a *App) Run() error
```

**Example:**

```go
err := app.Run()
if err != nil {
    log.Fatal(err)
}
```

**Returns:** Error if startup fails

### Quit()

Gracefully shuts down the application.

```go
func (a *App) Quit()
```

**Example:**

```go
// In a menu handler
menu.Add("Quit").OnClick(func(ctx *application.Context) {
    app.Quit()
})
```

### Config()

Returns the application configuration.

```go
func (a *App) Config() Options
```

**Example:**

```go
config := app.Config()
fmt.Println("App name:", config.Name)
```

## Window Management

### NewWebviewWindow()

Creates a new webview window with default options.

```go
func (a *App) NewWebviewWindow() *WebviewWindow
```

**Example:**

```go
window := app.NewWebviewWindow()
window.Show()
```

### NewWebviewWindowWithOptions()

Creates a new webview window with custom options.

```go
func (a *App) NewWebviewWindowWithOptions(options WebviewWindowOptions) *WebviewWindow
```

**Example:**

```go
window := app.NewWebviewWindowWithOptions(application.WebviewWindowOptions{
    Title:  "My Window",
    Width:  800,
    Height: 600,
    BackgroundColour: application.NewRGB(255, 255, 255),
})
```

### GetWindowByName()

Gets a window by its name.

```go
func (a *App) GetWindowByName(name string) Window
```

**Example:**

```go
window := app.GetWindowByName("main")
if window != nil {
    window.Show()
}
```

### GetWindows()

Returns all application windows.

```go
func (a *App) GetWindows() []Window
```

**Example:**

```go
windows := app.GetWindows()
for _, window := range windows {
    fmt.Println("Window:", window.Name())
}
```

## Managers

The Application provides access to various managers through properties:

```go
app.Window      // Window management
app.Menu        // Menu management
app.Dialog      // dialog management
app.Event       // Event management
app.Clipboard   // Clipboard operations
app.Screen      // Screen information
app.SystemTray  // System tray
app.Browser     // Browser operations
app.Env         // Environment variables
```

### Example Usage

```go
// Create window
window := app.Window.NewWebviewWindow()

// Show dialog
app.Dialog.Info().SetMessage("Hello!").Show()

// Copy to clipboard
app.Clipboard.SetText("Copied text")

// Get screens
screens := app.Screen.GetAll()
```

## Service Management

### RegisterService()

Registers a service with the application.

```go
func (a *App) RegisterService(service Service) error
```

**Example:**

```go
type MyService struct {
    app *application.Application
}

func NewMyService(app *application.Application) *MyService {
    return &MyService{app: app}
}

// Register after app creation
app.RegisterService(application.NewService(NewMyService(app)))
```

## Event Management

### EmitEvent()

Emits a custom event.

```go
func (a *App) EmitEvent(name string, data ...interface{})
```

**Example:**

```go
// Emit event with data
app.EmitEvent("user-logged-in", map[string]interface{}{
    "username": "john",
    "timestamp": time.Now(),
})
```

### OnEvent()

Listens for custom events.

```go
func (a *App) OnEvent(name string, callback func(*CustomEvent))
```

**Example:**

```go
app.OnEvent("user-logged-in", func(e *application.CustomEvent) {
    data := e.Data.(map[string]interface{})
    username := data["username"].(string)
    fmt.Println("User logged in:", username)
})
```

### OnApplicationEvent()

Listens for application lifecycle events.

```go
func (a *App) OnApplicationEvent(eventType ApplicationEventType, callback func(*ApplicationEvent)) func()
```

**Example:**

```go
// Listen for shutdown
app.OnApplicationEvent(application.EventApplicationShutdown, func(e *application.ApplicationEvent) {
    fmt.Println("Application shutting down")
    // Cleanup
})
```

## Dialog Methods

Dialogs are accessed through the `app.Dialog` manager. See [Dialogs API](/reference/dialogs/) for complete reference.

### Message Dialogs

```go
// Information dialog

_ = app.Dialog.Info().
	SetTitle("Success").
	SetMessage("Operation completed!").
	Show()

// Error dialog

_ = app.Dialog.Error().
	SetTitle("Error").
	SetMessage("Something went wrong.").
	Show()

// Warning dialog

_ = app.Dialog.Warning().
	SetTitle("Warning").
	SetMessage("This action cannot be undone.").
	Show()
```

### Question Dialogs

Question dialogs use `Result()` to handle user responses:

```go
dialog := app.Dialog.Question().
    SetTitle("Confirm").
    SetMessage("Continue?")

dialog.Buttons(
	application.Button{Label: "Yes", IsDefault: true},
	application.Button{Label: "No", IsCancel: true},
)

result, _ := dialog.Result()
switch result {
case "Yes":
	// Handle yes
case "No":
	// Handle no
}
```

### File Dialogs

```go
// Open file dialog
path, err := app.Dialog.OpenFile().
    SetTitle("Select File").
    AddFilter("Images", "*.png;*.jpg").
    PromptForSingleSelection()

// Save file dialog
path, err := app.Dialog.SaveFile().
    SetTitle("Save File").
    SetFilename("document.pdf").
    AddFilter("PDF", "*.pdf").
    PromptForSingleSelection()

// Folder selection (use OpenFile with directory options)
path, err := app.Dialog.OpenFile().
    SetTitle("Select Folder").
    CanChooseDirectories(true).
    CanChooseFiles(false).
    PromptForSingleSelection()
```

## Logger

The application provides a structured logger:

```go
app.Logger.Info("Message", "key", "value")
app.Logger.Error("Error occurred", "error", err)
app.Logger.Debug("Debug info")
app.Logger.Warn("Warning message")
```

**Example:**

```go
func (s *MyService) ProcessData(data string) error {
    s.app.Logger.Info("Processing data", "length", len(data))
    
    if err := process(data); err != nil {
        s.app.Logger.Error("Processing failed", "error", err)
        return err
    }
    
    s.app.Logger.Info("Processing complete")
    return nil
}
```

## Raw Message Handling

For applications that need direct, low-level control over frontend-to-backend communication, Wails provides the `RawMessageHandler` option. This bypasses the standard binding system.

:::note
Raw messages should only be used as a last resort. The standard binding system is highly optimized and sufficient for almost all applications. Only use raw messages if you have profiled your application and confirmed that bindings are a bottleneck.
:::

### RawMessageHandler

The `RawMessageHandler` callback receives raw messages sent from the frontend using `System.invoke()`.

```go
func (a *App) RawMessageHandler(window Window, message string)
```

**Example:**

```go
app := application.New(application.Options{
    Name: "My App",
    RawMessageHandler: func(window application.Window, message string) {
        // Handle the raw message
        fmt.Printf("Received from %s: %s\n", window.Name(), message)

        // You can respond using events
        window.EmitEvent("response", processMessage(message))
    },
})
```


For more details, see the [Raw Messages Guide](/guides/raw-messages).

## Complete Application Example

```go
package main

import (
    "github.com/wailsapp/wails/v3/pkg/application"
)

func main() {
    app := application.New(application.Options{
        Name:        "My Application",
        Description: "A demo application",
        Mac: application.MacOptions{
            ApplicationShouldTerminateAfterLastWindowClosed: true,
        },
    })

    // Create main window
    window := app.NewWebviewWindowWithOptions(application.WebviewWindowOptions{
        Title:            "My App",
        Width:            1024,
        Height:           768,
        MinWidth:         800,
        MinHeight:        600,
        BackgroundColour: application.NewRGB(255, 255, 255),
        URL:              "http://wails.localhost/",
    })

    window.Centre()
    window.Show()

    app.Run()
}
```

