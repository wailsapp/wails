package {{.Name}}

import (
	"github.com/wailsapp/wails/v3/pkg/application"
)

// ---------------- Plugin Setup ----------------
// This is the main plugin struct. It can be named anything you like.
// It must implement the application.Plugin interface.
// Both the Init() and Shutdown() methods are called synchronously when the app starts and stops.
// Changing the name of this struct will change the name of the plugins class in the frontend 
// Bound methods will exist inside frontend/bindings/github.com/user/{{.Name}} under the name of the struct
type Plugin struct{
    // Plugin Options
    app *application.App
}

// Init is called when the app is starting up. You can use this to
// initialise any resources you need. You can also access the application
// instance via the app property.
func (p *Plugin) Init() error {
    p.app = application.Get() // Allows for use of the application instance inside the plugin
	return nil
}

// Shutdown is called when the app is shutting down via runtime.Quit() call
// You can use this to clean up any resources you have allocated
func (p *Plugin) Shutdown() error {}

// Name returns the name of the plugin.
// You should use the go module format e.g. github.com/myuser/myplugin
func (p *Plugin) Name() string {
	return "github.com/myuser/wails-plugin-{{.Name}}"
}

// ---------------- Plugin Methods ----------------
// Plugin methods are just normal Go methods. You can add as many as you like.
// The only requirement is that they are exported (start with a capital letter).
// You can also return any type that is JSON serializable.
// See https://golang.org/pkg/encoding/json/#Marshal for more information.

func (p *Plugin) Greet(name string) string {
    return "Hello " + name
}
