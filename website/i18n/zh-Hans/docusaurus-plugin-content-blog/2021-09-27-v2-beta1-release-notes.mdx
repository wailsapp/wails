---
slug: wails-v2-beta-for-windows
title: Windows å¹³å°çš„ Wails v2 æµ‹è¯•ç‰ˆ
authors:
  - leaanthony
tags:
  - wails
  - v2
---

<div class="text--center">
  <img
    src={require("@site/static/img/wails.png").default}
    width="40%"
    class="screenshot"
  />
</div>

<br />

When I first announced Wails on Reddit, just over 2 years ago from a train in Sydney, I did not expect it to get much attention. A few days later, a prolific tech vlogger released a tutorial video, gave it a positive review and from that point on, interest in the project has skyrocketed.

It was clear that people were excited about adding web frontends to their Go projects, and almost immediately pushed the project beyond the proof of concept that I had created. At the time, Wails used the [webview](https://github.com/webview/webview) project to handle the frontend, and the only option for Windows was the IE11 renderer. Many bug reports were rooted in this limitation: poor JavaScript/CSS support and no dev tools to debug it. This was a frustrating development experience but there wasn't much that could have been done to rectify it.

å¾ˆé•¿ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œæˆ‘ä¸€ç›´åšä¿¡å¾®è½¯æœ€ç»ˆä¼šè§£å†³ä»–ä»¬çš„æµè§ˆå™¨é—®é¢˜ã€‚ ä¸–ç•Œåœ¨ä¸æ–­è¿›æ­¥ï¼Œå‰ç«¯å¼€å‘æ­£åœ¨è“¬å‹ƒå‘å±•ï¼Œè€Œ IE å¹¶æ²¡æœ‰åšåˆ°è¿™ä¸€ç‚¹ã€‚ When Microsoft announced the move to using Chromium as the basis for their new browser direction, I knew it was only a matter of time until Wails could use it, and move the Windows developer experience to the next level.

ä»Šå¤©ï¼Œæˆ‘å¾ˆé«˜å…´åœ°å®£å¸ƒï¼š**Windows çš„ Wails v2 å…¬æµ‹å•¦**ï¼ There's a huge amount to unpack in this release, so grab a drink, take a seat and we'll begin...

### æ²¡æœ‰ CGO ä¾èµ–

No, I'm not joking: _No_ _CGO_ _dependency_ ğŸ¤¯! The thing about Windows is that, unlike MacOS and Linux, it doesn't come with a default compiler. æ­¤å¤–ï¼ŒCGO éœ€è¦ä¸€ä¸ª mingw ç¼–è¯‘å™¨ï¼Œå¹¶ä¸”æœ‰å¤§é‡ä¸åŒçš„å®‰è£…é€‰é¡¹ã€‚ åˆ é™¤ CGO çš„è¦æ±‚å¤§å¤§ç®€åŒ–äº†è®¾ç½®ï¼Œå¹¶ä½¿è°ƒè¯•å˜å¾—éå¸¸å®¹æ˜“ã€‚ Whilst I have put a fair bit of effort in getting this working, the majority of the credit should go to [John Chadwick](https://github.com/jchv) for not only starting a couple of projects to make this possible, but also being open to someone taking those projects and building on them. Credit also to [Tad Vizbaras](https://github.com/tadvi) whose [winc](https://github.com/tadvi/winc) project started me down this path.

### WebView2 Chromium æ¸²æŸ“å¼•æ“

<div class="text--center">
  <img
    src={require("@site/static/img/devtools.png").default}
    width="75%"
    class="screenshot"
  />
</div>

<br />

æœ€ç»ˆï¼ŒWindows å¼€å‘äººå‘˜ä¸ºä»–ä»¬çš„åº”ç”¨ç¨‹åºè·å¾—äº†ä¸€æµçš„æ¸²æŸ“å¼•æ“ï¼ æ‰­æ›²å‰ç«¯ä»£ç ä»¥åœ¨ Windows ä¸Šå·¥ä½œçš„æ—¥å­å·²ç»ä¸€å»ä¸å¤è¿”äº†ã€‚ æœ€é‡è¦çš„æ˜¯ï¼Œæ‚¨å°†è·å¾—ä¸€æµçš„å¼€å‘è€…å·¥å…·ä½“éªŒï¼

ä½†æ˜¯ï¼ŒWebView2 ç»„ä»¶ç¡®å®éœ€è¦å°†å…¶æ”¾ç½®`WebView2Loader.dll`åœ¨äºŒè¿›åˆ¶æ–‡ä»¶æ—è¾¹ã€‚ è¿™ä½¿å¾—åˆ†å‘æ¯”æˆ‘ä»¬ gophers ä¹ æƒ¯çš„æ›´ç—›è‹¦ã€‚ All solutions and libraries (that I know of) that use WebView2 have this dependency.

However, I'm really excited to announce that Wails applications _have no such requirement_! Thanks to the wizardry of [John Chadwick](https://github.com/jchv), we are able to bundle this dll inside the binary and get Windows to load it as if it were present on disk.

Gophers æ¬¢å‘¼å§ï¼ å•ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶çš„æ„æƒ³ä¾ç„¶å­˜åœ¨ï¼

### æ–°åŠŸèƒ½

<div class="text--center">
  <img
    src={require("@site/static/img/wails-menus.png").default}
    width="60%"
    class="screenshot"
  />
</div>

<br />

æœ‰å¾ˆå¤šå¯¹åŸç”Ÿèœå•æ”¯æŒçš„è¯·æ±‚ã€‚ Wails ç»ˆäºå¸®æ‚¨æå®šäº†ã€‚ åº”ç”¨ç¨‹åºèœå•ç°å·²å¯ç”¨ï¼Œå¹¶ä¸”åŒ…æ‹¬å¯¹å¤§å¤šæ•°åŸç”Ÿèœå•åŠŸèƒ½çš„æ”¯æŒã€‚ This includes standard menu items, checkboxes, radio groups, submenus and separators.

åœ¨ v1 ä¸­æœ‰å¤§é‡çš„è¯·æ±‚ï¼Œè¦æ±‚èƒ½å¤Ÿæ›´å¥½åœ°æ§åˆ¶çª—å£æœ¬èº«ã€‚ æˆ‘å¾ˆé«˜å…´åœ°å®£å¸ƒï¼Œæœ‰ä¸“é—¨ç”¨äºæ­¤çš„æ–°è¿è¡Œæ—¶ APIã€‚ å®ƒåŠŸèƒ½ä¸°å¯Œï¼Œæ”¯æŒå¤šæ˜¾ç¤ºå™¨é…ç½®ã€‚ There is also an improved dialogs API: Now, you can have modern, native dialogs with rich configuration to cater for all your dialog needs.

ç°åœ¨å¯ä»¥é€‰æ‹©éšé¡¹ç›®ç”Ÿæˆ IDE é…ç½®ã€‚ è¿™æ„å‘³ç€å¦‚æœæ‚¨åœ¨å—æ”¯æŒçš„ IDE ä¸­æ‰“å¼€æ‚¨çš„é¡¹ç›®ï¼Œå®ƒå·²ç»è¢«é…ç½®ä¸ºæ„å»ºå’Œè°ƒè¯•æ‚¨çš„åº”ç”¨ç¨‹åºã€‚ ç›®å‰æ”¯æŒ VSCodeï¼Œä½†æˆ‘ä»¬å¸Œæœ›å°½å¿«æ”¯æŒå…¶ä»– IDEï¼Œä¾‹å¦‚ Golandã€‚

<div class="text--center">
  <img
    src={require("@site/static/img/vscode.png").default}
    width="100%"
    class="screenshot"
  />
</div>

<br />

### æ— éœ€æ‰“åŒ…èµ„æº

v1 çš„ä¸€ä¸ªå·¨å¤§ç—›ç‚¹æ˜¯éœ€è¦å°†æ•´ä¸ªåº”ç”¨ç¨‹åºå‹ç¼©ä¸ºå•ä¸ª JS å’Œ CSS æ–‡ä»¶ã€‚ I'm happy to announce that for v2, there is no requirement to bundle assets, in any way, shape or form. æƒ³è¦åŠ è½½æœ¬åœ°å›¾ç‰‡ï¼Ÿ Use an `<img>` tag with a local src path. æƒ³ä½¿ç”¨å¾ˆé…·çš„å­—ä½“å—ï¼Ÿ å¤åˆ¶å®ƒå¹¶åœ¨ä½ çš„ CSS ä¸­æ·»åŠ å®ƒçš„è·¯å¾„ã€‚

> å“‡ï¼Œè¿™å¬èµ·æ¥åƒä¸€ä¸ªç½‘ç»œæœåŠ¡å™¨......

æ˜¯çš„ï¼Œå®ƒå°±åƒä¸€ä¸ªç½‘ç»œæœåŠ¡å™¨ä¸€æ ·å·¥ä½œï¼Œä½†å®ƒä¸æ˜¯ã€‚

> é‚£ä¹ˆæˆ‘å¦‚ä½•åŒ…å«æˆ‘çš„èµ„æºï¼Ÿ

æ‚¨åªéœ€å°†`embed.FS`åŒ…å«æ‰€æœ‰èµ„æºçš„å•ä¸ªæ–‡ä»¶ä¼ é€’åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºé…ç½®ä¸­ã€‚ ä»–ä»¬ç”šè‡³ä¸éœ€è¦åœ¨é¡¶çº§ç›®å½•ä¸­â€”â€”Wails ä¼šä¸ºä½ è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

### å…¨æ–°çš„å¼€å‘ä½“éªŒ

<div class="text--center">
  <img
    src={require("@site/static/img/browser.png").default}
    width="60%"
    class="screenshot"
  />
</div>

<br />

ç°åœ¨ä¸éœ€è¦æ‰“åŒ…èµ„æºï¼Œå®ƒå¯ç”¨äº†å…¨æ–°çš„å¼€å‘ä½“éªŒã€‚ æ–°`wails dev`å‘½ä»¤å°†æ„å»ºå¹¶è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œä½†å®ƒä¸ä½¿ç”¨`embed.FS`ä¸­çš„èµ„æºï¼Œè€Œæ˜¯ç›´æ¥ä»ç£ç›˜åŠ è½½å®ƒä»¬ã€‚

å®ƒè¿˜æä¾›äº†é™„åŠ åŠŸèƒ½ï¼š

- çƒ­é‡è½½ - å¯¹å‰ç«¯èµ„æºçš„ä»»ä½•æ›´æ”¹éƒ½å°†è§¦å‘å¹¶è‡ªåŠ¨é‡è½½åº”ç”¨ç¨‹åºå‰ç«¯
- è‡ªåŠ¨é‡æ–°æ„å»º - å¯¹ Go ä»£ç çš„ä»»ä½•æ›´æ”¹éƒ½å°†é‡æ–°æ„å»ºå¹¶é‡æ–°å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åº

é™¤æ­¤ä¹‹å¤–ï¼Œç½‘ç»œæœåŠ¡å™¨å°†åœ¨ç«¯å£ 34115 ä¸Šå¯åŠ¨ã€‚ This will serve your application to any browser that connects to it. æ‰€æœ‰è¿æ¥çš„ Web æµè§ˆå™¨éƒ½ä¼šå“åº”ç³»ç»Ÿäº‹ä»¶ï¼Œä¾‹å¦‚èµ„æºæ›´æ”¹æ—¶çš„çƒ­é‡è½½ã€‚

åœ¨ Go ä¸­ï¼Œæˆ‘ä»¬ä¹ æƒ¯äºåœ¨åº”ç”¨ç¨‹åºä¸­å¤„ç†ç»“æ„ã€‚ å°†ç»“æ„å‘é€åˆ°æˆ‘ä»¬çš„å‰ç«¯å¹¶å°†å®ƒä»¬ç”¨ä½œæˆ‘ä»¬åº”ç”¨ç¨‹åºä¸­çš„çŠ¶æ€é€šå¸¸å¾ˆæœ‰ç”¨ã€‚ In v1, this was a very manual process and a bit of a burden on the developer. æˆ‘å¾ˆé«˜å…´åœ°å®£å¸ƒï¼Œåœ¨ v2 ä¸­ï¼Œä»»ä½•åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œçš„åº”ç”¨ç¨‹åºéƒ½å°†è‡ªåŠ¨ä¸ºæ‰€æœ‰ç»“æ„ç”Ÿæˆ Typescript æ¨¡å‹ï¼Œè¿™äº›ç»“æ„æ˜¯ç»‘å®šæ–¹æ³•çš„è¾“å…¥æˆ–è¾“å‡ºå‚æ•°ã€‚ è¿™å®ç°äº†ä¸¤ä¸ªä¸–ç•Œä¹‹é—´æ•°æ®æ¨¡å‹çš„æ— ç¼äº¤æ¢ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜ä¼šåŠ¨æ€ç”Ÿæˆå¦ä¸€ä¸ª JS æ¨¡å—æ¥åŒ…è£…æ‚¨çš„æ‰€æœ‰ç»‘å®šæ–¹æ³•ã€‚ This provides JSDoc for your methods, providing code completion and hinting in your IDE. It's really cool when you get data models auto-imported when hitting tab in an auto-generated module wrapping your Go code!

### è¿œç¨‹æ¨¡æ¿

<div class="text--center">
  <img
    src={require("@site/static/img/remote.png").default}
    width="60%"
    class="screenshot"
  />
</div>

<br />

è®©åº”ç”¨ç¨‹åºå¿«é€Ÿå¯åŠ¨å¹¶è¿è¡Œä¸€ç›´æ˜¯ Wails é¡¹ç›®çš„ä¸€ä¸ªå…³é”®ç›®æ ‡ã€‚ å½“æˆ‘ä»¬æ¨å‡ºæ—¶ï¼Œæˆ‘ä»¬è¯•å›¾æ¶µç›–å½“æ—¶çš„å¾ˆå¤šç°ä»£æ¡†æ¶ï¼šreactã€vue å’Œ angularã€‚ å‰ç«¯å¼€å‘çš„ä¸–ç•Œéå¸¸å›ºæ‰§å·±è§ï¼Œå‘å±•è¿…é€Ÿï¼Œå¾ˆéš¾ä¿æŒé¢†å…ˆåœ°ä½ï¼ As a result, we found our base templates getting out of date pretty quickly and this caused a maintenance headache. è¿™ä¹Ÿæ„å‘³ç€ï¼Œæˆ‘ä»¬æ²¡æœ‰ä¸ºæœ€æ–°å’Œæœ€ä¼Ÿå¤§çš„æŠ€æœ¯æ ˆæä¾›é…·ç‚«çš„ç°ä»£æ¨¡æ¿ã€‚

åœ¨ v2 ä¸­ï¼Œæˆ‘å¸Œæœ›é€šè¿‡è®©æ‚¨èƒ½å¤Ÿè‡ªå·±åˆ›å»ºå’Œæ‰˜ç®¡æ¨¡æ¿æ¥å¢å¼ºç¤¾åŒºçš„èƒ½åŠ›ï¼Œè€Œä¸æ˜¯ä¾èµ–äº Wails é¡¹ç›®ã€‚ æ‰€ä»¥ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨ç¤¾åŒºæ”¯æŒçš„æ¨¡æ¿åˆ›å»ºé¡¹ç›®ï¼ I hope this will inspire developers to create a vibrant ecosystem of project templates. I'm really quite excited about what our developer community can create!

### ç»“è¯­

Wails v2 ä»£è¡¨äº†è¯¥é¡¹ç›®çš„æ–°èµ·ç‚¹ã€‚ æ­¤ç‰ˆæœ¬çš„ç›®çš„æ˜¯è·å¾—æœ‰å…³æ–°æ–¹å¼çš„åé¦ˆï¼Œå¹¶åœ¨å®Œæ•´ç‰ˆæœ¬å‘å¸ƒä¹‹å‰è§£å†³æ‰€æœ‰é”™è¯¯ã€‚ æ¬¢è¿æå‡ºæ‚¨çš„æ„è§ã€‚ è¯·ç›´æ¥åé¦ˆåˆ° [v2 æµ‹è¯•ç‰ˆ](https://github.com/wailsapp/wails/discussions/828)è®¨è®ºæ¿ã€‚

ä¸ºäº†è¾¾åˆ°è¿™ä¸€ç‚¹ï¼Œç»å†äº†è®¸å¤šæ›²æŠ˜å’Œåå·ã€‚ This was due partly to early technical decisions that needed changing, and partly because some core problems we had spent time building workarounds for were fixed upstream: Goâ€™s embed feature is a good example. Fortunately, everything came together at the right time, and today we have the very best solution that we can have. I believe the wait has been worth it - this would not have been possible even 2 months ago.

æˆ‘è¿˜éœ€è¦ç‰¹åˆ«æ„Ÿè°¢ :pray: ä»¥ä¸‹äººå‘˜ï¼Œå› ä¸ºæ²¡æœ‰ä»–ä»¬ï¼Œè¿™ä¸ªç‰ˆæœ¬å°±ä¸ä¼šå­˜åœ¨ï¼š

- [Misitebao](https://github.com/misitebao) - ä¸­æ–‡ç¿»è¯‘çš„ä¸»è¦äººå‘˜å’Œå’Œä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ¼æ´å‘ç°è€…ã€‚
- [John Chadwick](https://github.com/jchv) - ä»–åœ¨ [go-webview2](https://github.com/jchv/go-webview2) å’Œ [go-winloader](https://github.com/jchv/go-winloader) æ–¹é¢çš„å‡ºè‰²å·¥ä½œä½¿ Windows ç‰ˆæœ¬æˆä¸ºå¯èƒ½ã€‚
- [Tad Vizbaras](https://github.com/tadvi) - ä»–çš„[winc](https://github.com/tadvi/winc)é¡¹ç›®æ˜¯èµ°å‘çº¯ç²¹çš„ Go Wails çš„ç¬¬ä¸€æ­¥ã€‚
- [Mat Ryer](https://github.com/matryer) - ä»–çš„æ”¯æŒã€é¼“åŠ±å’Œåé¦ˆç¡®å®æ¨åŠ¨äº†é¡¹ç›®å‘å‰å‘å±•ã€‚

And finally, I'd like to give a special thank you to all the [project sponsors](/credits#sponsors), including [JetBrains](https://www.jetbrains.com?from=Wails), whose support drive the project in many ways behind the scenes.

æˆ‘æœŸå¾…çœ‹åˆ°åœ¨é¡¹ç›®çš„ä¸‹ä¸€ä¸ªæ¿€åŠ¨äººå¿ƒçš„é˜¶æ®µäººä»¬ç”¨ Wails æ„å»ºä»€ä¹ˆï¼

Lea.

PSï¼šMacOS å’Œ Linux ç”¨æˆ·ä¸å¿…æ„Ÿåˆ°è¢«å¿½ç•¥äº†â€”â€”ç§»æ¤åˆ°è¿™ä¸ªæ–°åŸºç¡€ä¸Šçš„å·¥ä½œæ­£åœ¨ç§¯æè¿›è¡Œä¸­ï¼Œå¤§éƒ¨åˆ†å¤æ‚çš„å·¥ä½œå·²ç»å®Œæˆã€‚ åšæŒä¸‹å»...

PPSï¼šå¦‚æœæ‚¨æˆ–æ‚¨çš„å…¬å¸å‘ç° Wails æœ‰ç”¨ï¼Œå¯ä»¥è€ƒè™‘[èµåŠ©è¯¥é¡¹ç›®](https://github.com/sponsors/leaanthony)ã€‚ è°¢è°¢ï¼
