---
slug: wails-v2-beta-for-windows
title: Wails v2 Beta pour Windows
authors:
  - leaanthony
tags:
  - wails
  - v2
---

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/wails.webp").default}
    width="40%"
    class="screenshot"
  />
</div>
<br />
```

Quand j'ai annonc√© Wails pour la premi√®re fois sur Reddit, il y a deux ans depuis un train √† Sydney, je n'esp√©rais pas autant d'attention. Quelques jours plus tard, un tech vlogger populaire a publi√© un tutoriel vid√©o, a effectu√© une revue positive et √† partir de √ßa, l'int√©r√™t du projet n'a fait que cro√Ætre.

Il √©tait clair que des gens √©taient excit√©s au fait de pouvoir ajouter des frontends web √† leurs projets en Go, et presque imm√©diatement √ßa a pouss√© le projet bien plus loin que la preuve de concept que j'avais cr√©√©. A ce moment, Wails utilisait le projet [webview](https://github.com/webview/webview) pour g√©rer le frontend, et la seule option pour Windows √©tait le moteur de rendu IE11. Beaucoup de bugs ont √©t√© ouverts √† cause de cette limitation : support faible du JavaScript/CSS et acc√®s √† aucun outil de d√©veloppement pour le d√©boguer. C'√©tait une exp√©rience de d√©veloppement frustrante, mais il n'y avait pas grand-chose qui pouvait √™tre fait pour le rectifier.

Durant un long moment, je croyais fermement que Microsoft allait devoir faire quelque chose pour am√©liorer la situation de leur navigateur. Le monde avan√ßait, le d√©veloppement frontend √©tait en plein boom, mais IE n'√©tait pas √† la hauteur. Lorsque Microsoft a annonc√© le passage √† l'utilisation de Chromium comme nouvelle base pour leur navigateur, je savais que ce n'√©tait qu'une question de de temps avant que Wails ne puisse l'utiliser, et que l'exp√©rience du d√©veloppeur Windows ne passe au niveau sup√©rieur.

Aujourd'hui, j'ai le plaisir d'annoncer : **Wails v2 Beta pour Windows**! Il y a √©norm√©ment de stock dans cette version, donc attrape une boisson, prend un si√®ge et nous allons commencer...

### Pas de d√©pendance CGO !

Non, je ne plaisante pas : _Pas_ _de_ _d√©pendance_ _CGO_ ü§Ø! La chose √† propos de Windows est que, contrairement √† MacOS et Linux, il n'est pas livr√© avec un compilateur par d√©faut. De plus, CGO a besoin d'un compilateur mingw et il y a une tonne d'options d'installation diff√©rentes. La suppression de CGO comme pr√©requis a simplifi√© consid√©rablement la configuration et facilite grandement le d√©bogage. Pendant que j'ai fait un effort raisonnable pour que cela fonctionne, la majorit√© du cr√©dit devrait aller √† [John Chadwick](https://github.com/jchv) pour non seulement d√©marrer quelques projets pour rendre ceci possible, mais aussi √™tre ouvert √† quelqu'un qui prend ces projets et qui en cr√©e d'autres √† partir des siens. Cr√©dit √©galement √† [Tad Vizbaras](https://github.com/tadvi) dont le projet [winc](https://github.com/tadvi/winc) m'a lanc√© dans cette direction.

### Moteur de rendu WebView2 Chromium

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/devtools.png").default}
    width="75%"
    class="screenshot"
  />
</div>
<br />
```

Enfin, les d√©veloppeurs de Windows obtiennent un moteur de rendu de premi√®re classe pour leurs applications ! Les jours √† tordre votre code frontend pour le faire fonctionner sur Windows sont termin√©s. En plus de cela, vous obtenez une exp√©rience avec des outils de d√©veloppement de premi√®re classe !

Le composant WebView2 a toutefois besoin d'avoir le `WebView2Loader.dll` de pr√©sent avec le binaire. Cela rend la distribution juste un peu plus douloureuse que ce √† quoi nous sommes habitu√©s. Toutes les solutions et biblioth√®ques (que je connais) qui utilisent WebView2 ont cette d√©pendance.

Cependant, je suis vraiment heureuse d'annoncer que les applications Wails _n'ont pas de telles exigences_! Merci √† la sorcellerie de [John Chadwick](https://github.com/jchv), gr√¢ce √† qui nous sommes en mesure de regrouper cette dll √† l'int√©rieur du binaire et d'obtenir que Windows la charge comme si elle √©tait pr√©sente sur le disque.

Les Gophers se r√©jouissent! Le r√™ve d'un binaire unique vit !

### Nouvelles fonctionnalit√©s

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/wails-menus.webp").default}
    width="60%"
    class="screenshot"
  />
</div>
<br />
```

Il y avait beaucoup de demandes pour le support des menus natifs. Wails a enfin ce qu'il vous faut. Les menus des applications sont maintenant disponibles et incluent la prise en charge de la plupart des fonctions natives de menu. Cela inclut les √©l√©ments de menu standard, les cases √† cocher, les groupes radio, les sous-menus et les s√©parateurs.

Il y avait un grand nombre de demandes dans la v1 pour avoir un plus grand contr√¥le de la fen√™tre elle-m√™me. Je suis heureux d'annoncer qu'il y a de nouvelles API runtime sp√©cifiquement pour cela. Il est riche en fonctionnalit√©s et supporte les configurations multi-moniteurs. Il y a aussi une API de boite de dialogues am√©lior√©e : maintenant, vous pouvez avoir des boites de dialogues modernes et natives avec une configuration enrichie pour r√©pondre √† tous vos besoins.

Il y a maintenant la possibilit√© de g√©n√©rer la configuration dee votre IDE avec votre projet. Cela signifie que si vous ouvrez votre projet dans un IDE pris en charge, il sera d√©j√† configur√© pour construire et d√©boguer votre application. Actuellement, VSCode est support√© mais nous esp√©rons bient√¥t pouvoir prendre en charge d'autres IDE comme Goland.

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/vscode.webp").default}
    width="100%"
    class="screenshot"
  />
</div>
<br />
```

### Pas d'obligation de regrouper les ressources

Un √©norme point de douleur de v1 √©tait le besoin de condenser toute votre application en un seul fichier JS & CSS. Je suis heureux d'annoncer que, pour la v2, il n'y a pas d'obligation de regrouper des actifs, de quelque mani√®re que ce soit. Vous voulez charger une image locale? Utilisez un tag `<img>` avec un chemin src local. Vous voulez utiliser une police de caract√®res cool ? Copiez-la et ajoutez le chemin d'acc√®s dans votre CSS.

> Wow, √ßa ressemble √† un serveur web...

Oui, il fonctionne comme un serveur web, sauf que ce n'est pas le cas.

> Comment puis-je inclure mes ressources‚ÄØ?

Vous passez simplement un seul `embed.FS` qui contient tous vos actifs dans la configuration de votre application. Ils n'ont m√™me pas besoin d'√™tre dans le r√©pertoire racine du projet - Wails s'assurera de le faire fonctionner pour vous.

### Nouvelle exp√©rience de d√©veloppement

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/browser.webp").default}
    width="60%"
    class="screenshot"
  />
</div>
<br />
```

Maintenant que les actifs n'ont pas besoin d'√™tre regroup√©s, cela permet de vivre une toute nouvelle exp√©rience de d√©veloppement. La nouvelle commande `wails dev` construira et ex√©cutera votre application, mais au lieu d'utiliser les ressources embarqu√©es dans `embed.FS`, il les charge directement √† partir du disque.

Il fournit √©galement les fonctionnalit√©s suppl√©mentaires :

- Rechargement √† chaud - Toutes les modifications apport√©es aux ressources du frontend d√©clencheront le rechargement automatique du frontend de l'application
- Reconstruction automatique - Toutes les modifications apport√©es √† votre code Go d√©clencheront une reconstruction automatique avant de relancer votre application

En plus de cela, un serveur web d√©marrera sur le port 34115. Cela servira votre application √† n'importe quel navigateur qui s'y connecte. Tous les navigateurs Web connect√©s recevront les √©v√©nements du syst√®me tels que le rechargement chaud en cas de modification.

Avec Go, nous sommes habitu√©s √† traiter les structs dans nos applications. Il est souvent utile d'envoyer des structs sur notre site et de les utiliser dans notre application. Dans la v1, c'√©tait un processus manuel et un peu lourd pour le d√©veloppeur. Je suis heureux de vous annoncer qu'en v2, toute application ex√©cut√©e en mode dev g√©n√©rera automatiquement des mod√®les TypeScript pour tous les structs qui sont des param√®tres d'entr√©e ou de sortie aux m√©thodes Go li√©es au frontend. Cela permet un √©change transparent de mod√®les de donn√©es entre les deux mondes.

En plus de cela, un autre module JS est g√©n√©r√© dynamiquement en enveloppant toutes vos m√©thodes li√©es. Cela fournit la JSDoc pour vos m√©thodes, en fournissant la compl√©tion de code et des suggestions dans votre IDE. C'est vraiment cool quand vous obtenez des mod√®les de donn√©es auto-import√©s en appuyant sur la touche tab dans un module g√©n√©r√© automatiquement √† partir de votre code Go !

### Mod√®les distants

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/remote.webp").default}
    width="60%"
    class="screenshot"
  />
</div>
<br />
```

La mise en place rapide d'une application a toujours √©t√© un objectif cl√© pour le projet Wails. Quand nous avons lanc√© le projet, nous avons essay√© de couvrir beaucoup de frameworks modernes √† l'√©poque : react, vue et angular. Le monde du d√©veloppement du frontend est rapide et difficile √† garder √† jour ! En cons√©quence, nous avons trouv√© que nos mod√®les de base √©taient obsol√®tes rapidement et cela a caus√© des maux de t√™te de maintenance. Cela signifie √©galement que nous n'avons pas de mod√®les modernes et cool pour les derni√®res grandes technologies.

Avec la v2, je voulais donner √† la communaut√© la possibilit√© de cr√©er et d'h√©berger des mod√®les vous-m√™me, plut√¥t que que de compter sur le projet Wails. Maintenant vous pouvez cr√©er des projets en utilisant des mod√®les support√©s par la communaut√©! J'esp√®re que cela inspirera les d√©veloppeurs √† cr√©er un √©cosyst√®me dynamique de mod√®les de projet. Je suis vraiment tr√®s excit√© par ce que notre communaut√© de d√©veloppeurs peut cr√©er !

### En conclusion

Wails v2 repr√©sente une nouvelle fondation pour le projet. Le but de cette version est d'obtenir des commentaires sur la nouvelle approche et d'√©liminer tout bug avant une version compl√®te. Vos commentaires sont les bienvenus. Veuillez diriger tout commentaire vers le forum de discussion [v2 B√™ta](https://github.com/wailsapp/wails/discussions/828) .

Il y a eu beaucoup de d√©tours, de virages et de retournements de situation pour atteindre ce but. Cela est d√ª en partie √† des d√©cisions techniques pr√©coces qui devaient √™tre modifi√©es, et en partie parce que certains probl√®mes de base pour lesquels nous avions pass√© du temps √† construire des solutions de contournement ont √©t√© corrig√©s en amont : L'int√©gration de Go est un bon exemple. Heureusement, tout s'est r√©uni au bon moment, et aujourd'hui nous avons la meilleure solution que nous puissions avoir. Je pense que l'attente en valait la peine, cela n'aurait pas √©t√© possible il y a m√™me 2 mois .

J'ai √©galement besoin de remercier √©norm√©ment les personnes suivantes :pray: parce que sans elles, cette version n'existerait tout simplement pas:

- [Misite Bao](https://github.com/misitebao) - Un bourreau de travail absolu sur les traductions chinoises et un chercheur de bugs incroyable.
- [John Chadwick](https://github.com/jchv) - Pour son travail incroyable sur [go-webview2](https://github.com/jchv/go-webview2) et [go-winloader](https://github.com/jchv/go-winloader) qui a permis aujourd'hui d'avoir une version Windows.
- [Tad Vizbaras](https://github.com/tadvi) - Exp√©rimenter avec son projet [winc](https://github.com/tadvi/winc) a √©t√© le premier pas vers un pur Wails en Go.
- [Mat Ryer](https://github.com/matryer) - Son soutien, ses encouragements et ses commentaires ont vraiment contribu√© √† faire avancer le projet.

Enfin, je voudrais remercier tout particuli√®rement tous les [sponsors du projet](/credits#sponsors), y compris [JetBrains](https://www.jetbrains.com?from=Wails), dont le soutien anime le projet de plusieurs mani√®res en coulisses.

J'ai h√¢te de voir ce que les gens construisent avec Wails dans cette prochaine phase excitante du projet!

Lea.

PS: Les utilisateurs de MacOS et de Linux n'ont pas besoin de se sentir laiss√©s de c√¥t√©. Le portage vers ces OS est en cours et la majeure partie du travail a d√©j√† √©t√© faite. Tenez bon !

PPS : Si vous ou votre entreprise trouvez Wails utile, veuillez envisager [de parrainer le projet](https://github.com/sponsors/leaanthony). Merci !
