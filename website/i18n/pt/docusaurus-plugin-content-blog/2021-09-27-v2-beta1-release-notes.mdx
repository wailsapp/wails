---
slug: wails-v2-beta-for-windows
title: Wails v2 Beta para Windows
authors:
  - leaanthony
tags:
  - wails
  - v2
---

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/wails.webp").default}
    width="40%"
    class="screenshot"
  />
</div>
<br />
```

Quando eu anunciei o pela primeira vez o Wails no Reddit, justamente a 2 anos atr√°s dentro de um trem em Sidney, Eu n√£o esperava que isso teria muita aten√ß√£o. Alguns dias mais tarde, um vlogger tecnol√≥gico prol√≠fico lan√ßou um v√≠deo de tutorial, deu uma revis√£o positiva desde ent√£o o interesse pelo projeto disparou.

Estava claro que as pessoas estavam animadas para adicionar frontend ‚Äòweb‚Äô nas suas aplica√ß√µes em Go, e quase imediatamente o projeto foi para al√©m da prova de conceito que criei. No momento, Wails usava o projeto [webview](https://github.com/webview/webview) para lidar com o frontend, e a √∫nica op√ß√£o para Windows era o renderizador IE11. Muitos relat√≥rios de erros tiveram root nessa limita√ß√£o: suporte pobre de JavaScript/CSS e nenhuma ferramenta de desenvolvimento para depur√°-lo. Esta foi uma experi√™ncia de desenvolvimento frustrante, mas n√£o havia muito que pudesse ter sido feito para corrigi-lo.

Por muito tempo, eu acreditava firmemente que a Microsoft acabaria por ter que resolver a situa√ß√£o do navegador. O mundo estava avan√ßando, o desenvolvimento frondend estava crescendo e o IE n√£o estava acompanhando. Quando a Microsoft anunciou o movimento para usar o Chromium como base para a nova dire√ß√£o do navegador. Eu sabia que era apenas uma quest√£o de tempo at√© que as Wails pudessem us√°-lo, e mova a experi√™ncia de desenvolvedor do Windows para o pr√≥ximo n√≠vel.

Hoje, estou contente em anunciar: **Wails v2 Beta para Windows**! H√° uma enorme quantidade para descompactar esta atualiza√ß√£o, ent√£o tome uma bebida, sente-se e n√≥s come√ßaremos...

### Sem depend√™ncia CGO!

N√£o, n√£o estou brincando: _N√£o_ _CGO_ _depend√™ncia_ü§Ø! O problema do Windows √© que, diferentemente do MacOS e do Linux, ele n√£o vem com um compilador padr√£o. Al√©m disso, CGO requer um compilador mingw e h√° uma tonelada de diferentes op√ß√µes de instala√ß√£o. A remo√ß√£o do requisito de CGO tem uma configura√ß√£o simplificada massivamente, bem como tornar a depura√ß√£o muito mais f√°cil. Embora eu tenha me esfor√ßado bastante para fazer isso funcionar, a maioria dos o cr√©dito deveria ir para [John Chadwick](https://github.com/jchv) por n√£o apenas iniciar alguns projetos para fazer isso poss√≠vel, mas tamb√©m estar aberto a algu√©m que assuma esses projetos e os desenvolva. Cr√©dito tamb√©m a [Tad Vizbaras](https://github.com/tadvi) cujo projeto [winc](https://github.com/tadvi/winc) me iniciou por este caminho.

### Renderizador Chromium WebView2

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/devtools.png").default}
    width="75%"
    class="screenshot"
  />
</div>
<br />
```

Finalmente, os desenvolvedores do Windows recebem um mecanismo de renderiza√ß√£o de primeira classe para as suas aplica√ß√µes! J√° se foram dias de contorno seu c√≥digo frontend para funcionar no Windows. Al√©m disso, voc√™ tem uma experi√™ncia de ferramentas de desenvolvedor de primeira classe!

O componente WebView2 tem, no entanto, um requisito para que o `WebView2Loader.dll` fique lado a lado com o bin√°rio. Isso faz com que a distribui√ß√£o seja um pouco mais dolorosa do que n√≥s gophers gostamos de ver. Todas as solu√ß√µes e bibliotecas (que eu conhe√ßo) que usam WebView2 t√™m essa depend√™ncia.

No entanto, estou muito animado em anunciar que os aplicativos Wails _n√£o t√™m tal exig√™ncia_! Obrigado √† magia de [John Chadwick](https://github.com/jchv), n√≥s somos capazes de agregar essa barra dentro do bin√°rio e fazer com que o Windows carregue como se estivesse presente no disco.

Gophers se alegram! O sonho bin√°rio √∫nico continua vivo!

### Novos Recursos

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/wails-menus.webp").default}
    width="60%"
    class="screenshot"
  />
</div>
<br />
```

Houve muitas solicita√ß√µes para o suporte ao menu nativo. Wails finalmente ajudou voc√™. Os menus de aplicativo agora est√£o dispon√≠veis e incluem suporte para a maioria dos recursos do menu nativo. Isto inclui itens de menu padr√£o, caixas de sele√ß√£o, grupos de r√°dio, submenus e separadores.

Houve um grande n√∫mero de pedidos na v1 no sentido de se conseguir um maior controlo da pr√≥pria janela. Estou feliz em anunciar que h√° novas APIs de tempo de execu√ß√£o especificamente para isso. Ele √© rico em recursos e suporta configura√ß√µes multi-monitores. H√° tamb√©m uma API de di√°logos aprimorada: agora voc√™ pode ter di√°logos com configura√ß√£o avan√ßada para atender a todas as suas necessidades de di√°logo.

Agora h√° a op√ß√£o de gerar a configura√ß√£o do IDE junto com o seu projeto. Isto significa que se voc√™ abrir o seu projeto em um IDE suportado, ele j√° ser√° configurado para construir e depurar sua aplica√ß√£o. Atualmente o VSCode √© suportado mas esperamos dar suporte a outros IDEs como o Goland em breve.

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/vscode.webp").default}
    width="100%"
    class="screenshot"
  />
</div>
<br />
```

### Nenhum requisito para empacotar assets

Um grande problema da v1 foi a necessidade de condensar todo o seu aplicativo em um √∫nico JS & Arquivos CSS. Estou feliz em anunciar que para v2, n√£o h√° nenhum requisito de agrupar assets, de qualquer forma. Quer carregar uma imagem local? Use uma tag `<img>` com um caminho de src local. Quer usar uma fonte legal? Copie ele e adicione o caminho para ele em seu CSS.

> Uau, isso soa como um servidor web...

Sim, funciona como um servidor web, mas n√£o √©.

> Ent√£o, como incluo meus assets?

Voc√™ apenas passa um √∫nico `embed.FS` que cont√©m todos os seus assets na configura√ß√£o da sua aplica√ß√£o. Eles nem precisam estar no diret√≥rio superior - o Wails resolver√° isso para voc√™.

### Nova Experi√™ncia de Desenvolvimento

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/browser.webp").default}
    width="60%"
    class="screenshot"
  />
</div>
<br />
```

Agora que os ativos n√£o precisam ser agrupados, foi poss√≠vel uma experi√™ncia de desenvolvimento totalmente nova. O novo comando `wail dev` ir√° construir e executar seu aplicativo, mas em vez de usar os ativos do `incorporados. S`, carrega-os diretamente do disco.

Ele tamb√©m fornece os recursos adicionais:

- Carregamento automatico - Quaisquer mudan√ßas nos recursos do frontend ir√£o ativar e recarregar automaticamente o frontend do aplicativo
- Reconstru√ß√£o autom√°tica - Qualquer altera√ß√£o ao seu c√≥digo Go ir√° reconstruir e reiniciar seu aplicativo

Al√©m disso, um servidor web iniciar√° na porta 34115. Isso servir√° seu aplicativo para qualquer navegador que conecta a ele. Todos os navegadores web conectados responder√£o a eventos do sistema como recarregar rapidamente na altera√ß√£o de ativos.

Em Go, estamos acostumados a lidar com estruturas em nossas aplica√ß√µes. Muitas vezes √© √∫til enviar estruturas para nosso frontend e use-os como estado em nosso aplicativo. Na v1, este foi um processo muito manual e um pouco de sobrecarga para o desenvolvedor. Tenho prazer em anunciar isso em v2, qualquer aplicativo executado no modo de desenvolvimento ir√° gerar automaticamente modelos TypeScript para todas as constru√ß√µes que s√£o entradas ou par√¢metros de sa√≠da para m√©todos vinculados. Isso permite uma troca perfeita de dados modelos entre os dois mundos.

Al√©m disso, outro m√≥dulo JS √© gerado dinamicamente todos os seus m√©todos de vincula√ß√£o. Isso fornece JSDoc para seus m√©todos, fornecendo a conclus√£o de c√≥digo e dicas em seu IDE. √â muito legal quando voc√™ obt√©m modelos de dados auto-importado quando atinge a aba em um m√≥dulo gerado automaticamente embrulhando o seu c√≥digo Go!

### Modelos Remotos

```mdx-code-block
<div class="text--center">
  <img
    src={require("@site/static/img/remote.webp").default}
    width="60%"
    class="screenshot"
  />
</div>
<br />
```

Colocar um aplicativo em funcionamento rapidamente sempre foi um objetivo importante do projeto Wails. Quando lan√ßamos, tentamos cobrir muitos dos frameworks modernos no momento: react, vue e angular. O mundo do desenvolvimento frontend √© muito teimoso, r√°pido e dif√≠cil de manter no controle! Como resultado, descobrimos que nossos modelos b√°sicos estavam bastante desatualizados rapidamente e isso causou uma dor de cabe√ßa de manuten√ß√£o. Tamb√©m significava que n√£o t√≠nhamos modelos modernos legais para os mais recentes e os maiores cumes tecnol√≥gicos.

Com a v2, eu queria capacitar a comunidade, dando a voc√™s a capacidade de criar e hospedar modelos por conta pr√≥pria, em vez de do que confiar no projeto Wails. Ent√£o agora voc√™ pode criar projetos usando templates suportados pela comunidade! Espero que isto v√° inspirar os desenvolvedores a criar um ecossistema vibrante de modelos de projeto. Estou realmente animado com o que a comunidade de desenvolvedores pode criar!

### Em conclus√£o

As trilhas v2 representam uma nova funda√ß√£o para o projeto. O objetivo desta vers√£o √© obter feedback sobre a nova abordagem e aperfei√ßoar quaisquer erros antes de uma vers√£o completa. Sua opini√£o seria muito bem-vinda. Por favor, direcione qualquer feedback para o f√≥rum de discuss√£o [Beta](https://github.com/wailsapp/wails/discussions/828).

Houve muitas reviravoltas, pivots e reviravoltas para chegar a este ponto. Isto deveu-se em parte a decis√µes t√©cnicas iniciais isso precisava ser mudado, e em parte porque alguns problemas principais para os quais passamos tempo criando solu√ß√µes alternativas foram corrigidos no upstream: O recurso de incorpora√ß√£o do Go √© um bom exemplo. Felizmente, tudo se juntou no momento certo, e hoje n√≥s temos a melhor solu√ß√£o que podemos ter. Eu acredito que a espera tem valido a pena - isto n√£o teria sido poss√≠vel at√© 2 meses atr√°s.

Eu tamb√©m preciso dar um enorme agradecimento :pray: √†s seguintes pessoas, porque sem elas essa libera√ß√£o n√£o existiria:

- [Misite Bao](https://github.com/misitebao) - Um cavalo de trabalho absoluto sobre as tradu√ß√µes chinesas e uma incr√≠vel busca de bugs.
- [John Chadwick](https://github.com/jchv) - Seu excelente trabalho no [go-webview2](https://github.com/jchv/go-webview2) e [go-winloader](https://github.com/jchv/go-winloader) tornaram a vers√£o do Windows que temos hoje poss√≠vel.
- [Tad Vizbaras](https://github.com/tadvi) - Experimentar seu projeto [winc](https://github.com/tadvi/winc) foi o primeiro passo para um Go Wails puro.
- [Mat Ryer](https://github.com/matryer) - Seu apoio, encorajamento e feedback realmente ajudaram a impulsionar o projeto.

E finalmente, eu gostaria de agradecer especialmente a todos os patrocinadores [do projeto](/credits#sponsors), incluindo [JetBrains](https://www.jetbrains.com?from=Wails), cujo suporte dirige o projeto de muitas formas nos bastidores.

Estou ansioso para ver o que as pessoas construir√£o com Wails nesta pr√≥xima fase emocionante do projeto!

Lea.

PS: MacOS e usu√°rios do Linux n√£o precisam de se sentir esquecidos - o facto de se portar para esta nova funda√ß√£o est√° activamente em curso e a maior parte do trabalho √°rduo j√° foi feito. Aguenta firme!

PPS: Se voc√™ ou sua empresa consideram o Wails √∫til, considere [patrocinar o projeto](https://github.com/sponsors/leaanthony). Obrigado!
